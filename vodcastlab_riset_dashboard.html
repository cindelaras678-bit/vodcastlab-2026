<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VodcastLab | Peta Ekosistem Digital Indonesia 2025-2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0EA5E9;
            --secondary: #8B5CF6;
            --accent: #F43F5E;
            --bg-dark: #020617;
            --card-bg: #0F172A;
        }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--bg-dark); 
            color: #F8FAFC; 
            scroll-behavior: smooth;
        }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 800px; 
            margin: 0 auto;
            height: 350px; 
        }
        .glass-card { 
            background: rgba(15, 23, 42, 0.8); 
            backdrop-filter: blur(16px); 
            border: 1px solid rgba(255, 255, 255, 0.05); 
            border-radius: 1.5rem; 
        }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #1E293B; border-radius: 10px; }
        .spinner { border: 2px solid rgba(255, 255, 255, 0.1); border-top: 2px solid var(--primary); border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* Utility for multi-line labels in Chart.js */
    </style>
    <!-- 
        NARRATIVE PLAN:
        1. Macro Overview: Internet penetration & Social Media Ranking.
        2. Behavioral Segmentation: Platform preference by Gen Z, Millennial, Gen X.
        3. Quantitative Analysis: Time spent & reasons for usage.
        4. Competitive Landscape: 50+ Vodcast channels mapping.
        5. AI Studio: Predictive trends & Deep Search.
        
        CONFIRMATION: NO SVG, NO MERMAID JS USED.
    -->
</head>
<body class="antialiased overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-slate-950/80 backdrop-blur-lg border-b border-white/5 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-br from-sky-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-sky-500/20">
                <span class="font-black text-white text-xl">V</span>
            </div>
            <div>
                <h1 class="text-lg font-bold leading-none">VodcastLab<span class="text-sky-400">.</span></h1>
                <p class="text-[10px] text-slate-500 font-bold tracking-widest uppercase">Research Ecosystem</p>
            </div>
        </div>
        <div class="hidden md:flex gap-8 text-xs font-bold uppercase tracking-widest text-slate-400">
            <a href="#macro" class="hover:text-sky-400 transition-colors">Macro</a>
            <a href="#behavior" class="hover:text-sky-400 transition-colors">Behavior</a>
            <a href="#competitors" class="hover:text-sky-400 transition-colors">Competitors</a>
            <a href="#ai-studio" class="text-sky-400 border-b-2 border-sky-400 pb-1">AI Studio</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative pt-32 pb-20 px-6 overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-sky-500/10 via-transparent to-transparent opacity-50"></div>
        <div class="max-w-6xl mx-auto text-center relative z-10 space-y-6">
            <span class="inline-block px-4 py-1.5 rounded-full bg-sky-500/10 border border-sky-500/20 text-sky-400 text-xs font-bold uppercase tracking-widest">Laporan Holistik 2025</span>
            <h2 class="text-5xl md:text-7xl font-extrabold tracking-tight">
                Peta Kekuatan <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-400 via-indigo-400 to-rose-400">Digital & Vodcast Indonesia</span>
            </h2>
            <p class="text-slate-400 max-w-3xl mx-auto text-lg md:text-xl font-light leading-relaxed">
                Analisis mendalam terhadap pangsa pasar media sosial, perilaku audiens lintas generasi, dan pemetaan 50+ kompetitor utama dalam ekosistem audio-visual nusantara.
            </p>
            <div class="flex justify-center gap-4 pt-4">
                <button onclick="document.getElementById('competitors').scrollIntoView()" class="bg-sky-500 hover:bg-sky-400 text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-sky-500/20 transition-all active:scale-95">Lihat 50 Kompetitor</button>
                <button id="tts-summary-btn" class="bg-white/5 hover:bg-white/10 text-white border border-white/10 px-8 py-4 rounded-2xl font-bold transition-all">Dengarkan Narasi AI ‚ú®</button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 space-y-24 pb-32">

        <!-- SECTION: MACRO OVERVIEW -->
        <section id="macro" class="space-y-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="glass-card p-8 group hover:border-sky-500/30 transition-all">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">Penetrasi Internet</p>
                    <div class="flex items-baseline gap-2">
                        <span class="text-4xl font-extrabold text-white">232,4</span>
                        <span class="text-sky-400 font-bold">Juta</span>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-4 italic">81,5% dari total populasi</p>
                </div>
                <div class="glass-card p-8 group hover:border-purple-500/30 transition-all">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">Pengguna Aktif Sosmed</p>
                    <div class="flex items-baseline gap-2">
                        <span class="text-4xl font-extrabold text-white">191,0</span>
                        <span class="text-purple-400 font-bold">Juta</span>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-4 italic">Dominasi YouTube & TikTok</p>
                </div>
                <div class="glass-card p-8 group hover:border-rose-500/30 transition-all">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">Waktu Internet/Hari</p>
                    <div class="flex items-baseline gap-2">
                        <span class="text-4xl font-extrabold text-white">7h 38m</span>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-4 italic">Meningkat 12% dibanding 2024</p>
                </div>
                <div class="glass-card p-8 group hover:border-teal-500/30 transition-all">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">Sektor Vodcast</p>
                    <div class="flex items-baseline gap-2">
                        <span class="text-4xl font-extrabold text-white">42%</span>
                        <span class="text-teal-400 font-bold">YoY</span>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-4 italic">Pertumbuhan Video-Podcasting</p>
                </div>
            </div>

            <!-- Rankings Platform -->
            <div class="glass-card p-10">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10">
                    <div>
                        <h3 class="text-2xl font-bold">Ranking Pangsa Pemirsa Platform</h3>
                        <p class="text-slate-400 text-sm mt-1">Berdasarkan tingkat penetrasi dan frekuensi penggunaan harian di Indonesia.</p>
                    </div>
                    <div class="flex gap-4 text-xs font-bold">
                        <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-sky-500"></span>Reach</span>
                        <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-indigo-500"></span>Engagement</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="platformReachChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION: BEHAVIOR & DEMOGRAPHICS -->
        <section id="behavior" class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
                <div class="glass-card p-10">
                    <h3 class="text-2xl font-bold mb-6">Analisis Platform Lintas Generasi</h3>
                    <div class="chart-container h-[400px]">
                        <canvas id="genPlatformRadar"></canvas>
                    </div>
                </div>
                <!-- Time Spent Table/Analysis -->
                <div class="glass-card p-10 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="space-y-4">
                        <h4 class="text-sky-400 font-bold text-sm uppercase tracking-widest">Gen Z (12-27 th)</h4>
                        <p class="text-3xl font-black">3h 45m</p>
                        <p class="text-xs text-slate-400">Rata-rata waktu di TikTok & Reels per hari. Alasan: Otentisitas, Hiburan Cepat, & FOMO.</p>
                    </div>
                    <div class="space-y-4">
                        <h4 class="text-purple-400 font-bold text-sm uppercase tracking-widest">Milenial (28-43 th)</h4>
                        <p class="text-3xl font-black">2h 15m</p>
                        <p class="text-xs text-slate-400">Rata-rata waktu di YouTube & IG. Alasan: Edukasi, Networking, & Perencanaan Hidup.</p>
                    </div>
                    <div class="space-y-4">
                        <h4 class="text-rose-400 font-bold text-sm uppercase tracking-widest">Gen X (44-59 th)</h4>
                        <p class="text-3xl font-black">1h 20m</p>
                        <p class="text-xs text-slate-400">Rata-rata waktu di FB & WA. Alasan: Komunitas Keluarga, Berita Lokal, & Nostalgia.</p>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-1 space-y-8">
                <div class="glass-card p-8 h-full">
                    <h3 class="text-xl font-bold mb-6">Kenapa Mereka Suka?</h3>
                    <div class="space-y-6">
                        <div class="flex gap-4">
                            <div class="text-2xl">üî•</div>
                            <div>
                                <p class="font-bold text-sm">Visual & Dinamis</p>
                                <p class="text-xs text-slate-500">Preferensi pada video berdurasi < 60 detik (TikTok/Shorts).</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="text-2xl">ü§ù</div>
                            <div>
                                <p class="font-bold text-sm">Parasocial Interaction</p>
                                <p class="text-xs text-slate-500">Merasa berteman dengan host Vodcast (Close the Door, Vindes).</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="text-2xl">üìö</div>
                            <div>
                                <p class="font-bold text-sm">Edutainment</p>
                                <p class="text-xs text-slate-500">Belajar hal berat (AI, Politik, Bisnis) lewat obrolan santai.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: COMPETITORS LANDSCAPE (THE 50 LIST) -->
        <section id="competitors" class="space-y-12">
            <div class="flex flex-col md:flex-row justify-between items-end gap-6">
                <div class="max-w-2xl">
                    <h2 class="text-4xl font-extrabold italic">Database 50+ Kompetitor Vodcast</h2>
                    <p class="text-slate-400 mt-2">Pemetaan komprehensif dari kanal raksasa hingga niche seni budaya dan teknologi AI.</p>
                </div>
                <div class="flex gap-3">
                    <button onclick="exportCSV()" class="bg-teal-600 hover:bg-teal-500 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all">Export to CSV/Excel</button>
                    <button onclick="aiAction('deepsearch')" class="bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all">AI Deep Research ‚ú®</button>
                </div>
            </div>

            <div class="glass-card p-10">
                <h3 class="text-center font-bold text-slate-500 text-xs uppercase tracking-widest mb-10">Peta Jangkauan vs Engagement (Bubble Map)</h3>
                <div class="chart-container h-[500px]">
                    <canvas id="competitorBubbleChart"></canvas>
                </div>
            </div>

            <div class="glass-card overflow-hidden">
                <div class="p-6 border-b border-white/5 flex justify-between items-center bg-slate-900/50">
                    <h3 class="font-bold flex items-center gap-2">
                        <span>Daftar Kanal Terseleksi</span>
                        <span class="text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400">Total: 50 Channel</span>
                    </h3>
                    <input type="text" id="tableSearch" onkeyup="searchTable()" placeholder="Cari kanal (ex: AI Nusantara)..." class="bg-slate-800 border-none rounded-full px-6 py-2 text-xs focus:ring-2 focus:ring-sky-500 w-64 text-white">
                </div>
                <div class="overflow-x-auto custom-scrollbar max-h-[600px]">
                    <table class="w-full text-left text-sm" id="competitorTable">
                        <thead class="bg-slate-900/80 text-slate-500 uppercase text-[10px] font-bold sticky top-0 z-20">
                            <tr>
                                <th class="px-6 py-5">Nama Kanal</th>
                                <th class="px-6 py-5">Platform</th>
                                <th class="px-6 py-5 text-right">Subs/Followers</th>
                                <th class="px-6 py-5">Kategori</th>
                                <th class="px-6 py-5">Target Audiens</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5 text-slate-300" id="tableBody">
                            <!-- Injected by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- SECTION: AI STUDIO -->
        <section id="ai-studio" class="glass-card p-12 bg-gradient-to-br from-indigo-900/20 to-slate-900 border-sky-500/20">
            <div class="flex flex-col lg:flex-row gap-12 items-center">
                <div class="flex-grow space-y-6">
                    <h2 class="text-3xl font-bold">Gemini AI Studio ‚ú®</h2>
                    <p class="text-slate-400 leading-relaxed">
                        Gunakan asisten AI untuk memprediksi arah pasar digital Indonesia di masa depan atau melakukan riset mendalam pada kompetitor spesifik yang belum ada di tabel.
                    </p>
                    <div id="ai-response-box" class="hidden p-6 bg-white/5 rounded-2xl border border-white/10 animate-pulse-slow">
                        <div id="ai-response-text" class="text-sm text-slate-300 italic leading-relaxed"></div>
                    </div>
                    <div class="flex gap-4">
                        <button onclick="aiAction('forecast')" id="forecast-btn" class="bg-white text-slate-900 px-6 py-3 rounded-xl font-bold hover:bg-slate-200 transition-all">Ramalan Tren 2027 ‚ú®</button>
                        <div class="flex-grow flex gap-2">
                            <input type="text" id="ai-search-input" placeholder="Masukkan nama kanal baru..." class="bg-slate-800/50 border-white/10 rounded-xl px-4 py-3 flex-grow text-sm focus:ring-2 focus:ring-sky-500 outline-none">
                            <button onclick="aiAction('deepsearch')" class="bg-sky-600 px-6 py-3 rounded-xl font-bold hover:bg-sky-500 transition-all">Riset ‚ú®</button>
                        </div>
                    </div>
                </div>
                <div class="flex-shrink-0 w-full lg:w-80 space-y-4">
                    <div class="p-6 bg-white/5 rounded-2xl border border-white/10">
                        <h4 class="text-xs font-bold uppercase text-sky-400 mb-2 tracking-widest">Audio Briefing</h4>
                        <audio id="gemini-audio" controls class="w-full hidden mb-4"></audio>
                        <p id="audio-placeholder" class="text-[10px] text-slate-500 italic">Klik tombol "Dengarkan Narasi AI" di bagian atas halaman untuk memutar ringkasan riset ini.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-950 border-t border-white/5 py-12 text-center">
        <div class="max-w-7xl mx-auto px-6">
            <p class="text-slate-500 text-sm">¬© 2025 VodcastLab Indonesia. Data disintesis untuk simulasi riset pasar ekosistem digital nusantara.</p>
        </div>
    </footer>

    <script>
        // --- DATASET: 50 COMPETITORS ---
        const competitors = [
            { n: "Close The Door (Deddy)", p: "YouTube", s: "23.5M", c: "Talkshow", a: "Milenial, Gen X", x: 23.5, y: 3.5 },
            { n: "RANS Entertainment", p: "YouTube", s: "26.2M", c: "Variety", a: "Semua Usia", x: 26.2, y: 1.2 },
            { n: "Vindes", p: "YouTube", s: "4.8M", c: "Comedy", a: "Milenial", x: 4.8, y: 4.2 },
            { n: "Lentera Malam", p: "YouTube", s: "3.2M", c: "Horror", a: "Gen Z, Milenial", x: 3.2, y: 2.8 },
            { n: "Curhat Bang Denny", p: "YouTube", s: "7.1M", c: "Talkshow", a: "Milenial", x: 7.1, y: 3.1 },
            { n: "AI Nusantara (TikTok)", p: "TikTok", s: "1.2M", c: "Tech/AI", a: "Gen Z", x: 1.2, y: 5.5 },
            { n: "AI Nusantara (YouTube)", p: "YouTube", s: "500k", c: "Tech/AI", a: "Milenial", x: 0.5, y: 0.8 },
            { n: "AI Nusantara (Reels)", p: "Instagram", s: "850k", c: "Tech/AI", a: "Gen Z, Milenial", x: 0.8, y: 4.2 },
            { n: "Reza Arap (Maraphton)", p: "YouTube/Twitch", s: "2.5M", c: "Life/Gaming", a: "Gen Z", x: 2.5, y: 1.5 },
            { n: "Jagad Mandala", p: "YouTube", s: "900k", c: "Seni Budaya", a: "Semua Usia", x: 0.9, y: 1.1 },
            { n: "GadgetIn (David)", p: "YouTube", s: "12.5M", c: "Tech", a: "Milenial", x: 12.5, y: 1.9 },
            { n: "PWK (Praz Teguh)", p: "YouTube", s: "1.5M", c: "Comedy", a: "Gen Z, Milenial", x: 1.5, y: 6.2 },
            { n: "BBK (Bocah-Bocah Kosong)", p: "YouTube", s: "1.2M", c: "Comedy", a: "Gen Z", x: 1.2, y: 7.5 },
            { n: "Raymond Chin", p: "YT/TT", s: "1.4M", c: "Bisnis", a: "Milenial", x: 1.4, y: 2.5 },
            { n: "Timothy Ronald", p: "YouTube", s: "1.1M", c: "Finansial", a: "Gen Z Laki-laki", x: 1.1, y: 3.8 },
            { n: "Seni Budaya Nusantara", p: "YouTube", s: "350k", c: "Seni Budaya", a: "Kulturalis", x: 0.3, y: 0.5 },
            { n: "Raditya Dika", p: "YouTube", s: "10.2M", c: "Comedy/Life", a: "Milenial", x: 10.2, y: 0.9 },
            { n: "Atta Halilintar", p: "YouTube", s: "31.0M", c: "Variety", a: "Semua Usia", x: 31.0, y: 0.7 },
            { n: "Ricis Official", p: "YouTube", s: "45.0M", c: "Variety", a: "Gen Z", x: 45.0, y: 0.5 },
            { n: "Boy William (BW)", p: "YouTube", s: "5.8M", c: "Talkshow", a: "Gen Z, Milenial", x: 5.8, y: 2.1 },
            { n: "Dr. Richard Lee", p: "YouTube", s: "4.5M", c: "Health", a: "Perempuan Dewasa", x: 4.5, y: 4.8 },
            { n: "Kasisolusi", p: "YouTube", c: "Bisnis", s: "1.3M", a: "Milenial Muslim", x: 1.3, y: 2.2 },
            { n: "Indrawan Nugroho", p: "YouTube", s: "1.8M", c: "Bisnis/Tech", a: "Profesional", x: 1.8, y: 1.2 },
            { n: "Raymond Chin", p: "TikTok", s: "2.1M", c: "Edu", a: "Gen Z", x: 2.1, y: 4.5 },
            { n: "Malam Jumat (Ewing)", p: "YouTube", s: "3.5M", c: "Horror", a: "Gen Z", x: 3.5, y: 1.2 },
            { n: "Jurnal Risa", p: "YouTube", s: "6.8M", c: "Horror", a: "Semua Usia", x: 6.8, y: 2.5 },
            { n: "Podcast Seminggu", p: "Spotify", s: "Top 5", c: "Comedy", a: "Milenial", x: 3.0, y: 3.5 },
            { n: "Podkesmas", p: "Spotify", s: "Top 1", c: "Comedy", a: "Milenial", x: 4.5, y: 4.8 },
            { n: "Rintik Sedu", p: "Spotify", s: "Top 2", c: "Literature", a: "Gen Z Perempuan", x: 5.2, y: 4.1 },
            { n: "Agak Laen", p: "YT/Spotify", s: "1.2M", c: "Comedy", a: "Semua Usia", x: 1.2, y: 8.5 },
            { n: "Volix Media", p: "YouTube", s: "1.0M", c: "Pop Culture", a: "Gen Z Urban", x: 1.0, y: 2.8 },
            { n: "TS Media", p: "YouTube", s: "1.2M", c: "Lifestyle", a: "Perempuan", x: 1.2, y: 1.9 },
            { n: "Marathon Podcast", p: "YouTube", s: "150k", c: "Sport", a: "Runner", x: 0.1, y: 0.6 },
            { n: "Sobat Hape", p: "YouTube", s: "1.1M", c: "Tech", a: "Milenial", x: 1.1, y: 1.5 },
            { n: "Gofar Hilman", p: "YouTube", s: "1.5M", c: "Talkshow", a: "Milenial", x: 1.5, y: 1.2 },
            { n: "Narasi (Najwa)", p: "YouTube", s: "10.5M", c: "News", a: "Semua Usia", x: 10.5, y: 2.2 },
            { n: "Asumsi", p: "YouTube", s: "1.1M", c: "News", a: "Gen Z Urban", x: 1.1, y: 1.1 },
            { n: "Filsafat Terapan", p: "YouTube", s: "400k", c: "Edu", a: "Intelektual", x: 0.4, y: 0.8 },
            { n: "Greatmind", p: "YouTube", s: "800k", c: "Psychology", a: "Milenial", x: 0.8, y: 1.2 },
            { n: "Satu Persen", p: "YouTube", s: "3.2M", c: "Self Dev", a: "Gen Z", x: 3.2, y: 0.9 },
            { n: "Hobi Makan", p: "YouTube", s: "4.5M", c: "Culinary", a: "Semua Usia", x: 4.5, y: 2.2 },
            { n: "Nex Carlos", p: "YouTube", s: "4.8M", c: "Culinary", a: "Milenial", x: 4.8, y: 3.2 },
            { n: "Tanboy Kun", p: "YouTube", s: "18.5M", c: "Culinary", a: "Gen Z", x: 18.5, y: 5.5 },
            { n: "Wayang Kulit ID", p: "YouTube", s: "250k", c: "Seni Budaya", a: "Gen X", x: 0.2, y: 0.9 },
            { n: "Karya Nusantara", p: "YouTube", s: "150k", c: "Seni Budaya", a: "Niche", x: 0.1, y: 0.4 },
            { n: "Tahi Lalats", p: "IG", s: "5.2M", c: "Arts/Comedy", a: "Gen Z", x: 5.2, y: 8.5 },
            { n: "Folkative", p: "IG", s: "5.5M", c: "News/Trends", a: "Gen Z Urban", x: 5.5, y: 9.2 },
            { n: "Mindset Nusantara", p: "TT", s: "600k", c: "Motivation", a: "Gen Z", x: 0.6, y: 5.2 },
            { n: "Taulany TV", p: "YouTube", s: "7.5M", c: "Variety", a: "Semua Usia", x: 7.5, y: 4.2 },
            { n: "Desta Natasha (Desta)", p: "YouTube", s: "In Vindes", c: "Comedy", a: "Milenial", x: 5.0, y: 4.5 }
        ];

        // --- GEMINI API HELPERS ---
        const apiKey = ""; 

        async function aiAction(type) {
            const box = document.getElementById('ai-response-box');
            const text = document.getElementById('ai-response-text');
            const queryInput = document.getElementById('ai-search-input');
            
            box.classList.remove('hidden');
            text.innerHTML = `<span class="spinner"></span> AI sedang menganalisis data ekosistem...`;

            let prompt = "";
            let useSearch = false;

            if (type === 'forecast') {
                prompt = "Berdasarkan data 50 kompetitor Vodcast Indonesia 2025 di mana TikTok mencapai 86% penetrasi, berikan prediksi 3 paragraf tentang masa depan industri konten Seni Budaya Nusantara di era AI 2027. Jawab dalam Bahasa Indonesia.";
            } else {
                const query = queryInput.value;
                if (!query) { text.innerText = "Masukkan nama kanal!"; return; }
                prompt = `Lakukan riset online mendalam tentang statistik, strategi konten, dan alasan kenapa kanal "${query}" disukai atau tidak oleh Gen Z dan Millennial di Indonesia. Berikan data angka jika memungkinkan.`;
                useSearch = true;
            }

            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                    systemInstruction: { parts: [{ text: "You are an expert digital analyst for VodcastLab. Use clear Indonesian." }] }
                };
                if(useSearch) payload.tools = [{ "google_search": {} }];

                const res = await fetch(url, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload) });
                const result = await res.json();
                const output = result.candidates[0].content.parts[0].text;
                text.innerHTML = output.replace(/\n/g, '<br>');
            } catch (e) {
                text.innerText = "Maaf, gagal menghubungi server Gemini. Periksa koneksi Anda.";
            }
        }

        // TTS Multi-speaker
        document.getElementById('tts-summary-btn').addEventListener('click', async () => {
            const btn = document.getElementById('tts-summary-btn');
            const audio = document.getElementById('gemini-audio');
            const placeholder = document.getElementById('audio-placeholder');
            
            btn.disabled = true;
            btn.innerHTML = `<span class="spinner"></span> Menyiapkan Audio...`;

            const dialogue = "Asisten1: Halo, selamat datang di laporan VodcastLab 2025. Tahukah kamu bahwa TikTok sekarang memegang 86 persen engagement di Indonesia? Asisten2: Ya, benar sekali. Bahkan kanal seperti AI Nusantara tumbuh pesat di platform tersebut melampaui YouTube dalam hal interaksi harian.";
            
            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;
                const payload = {
                    contents: [{ parts: [{ text: dialogue }] }],
                    generationConfig: {
                        responseModalities: ["AUDIO"],
                        speechConfig: {
                            voiceConfig: {
                                multiSpeakerVoiceConfig: {
                                    speakerVoiceConfigs: [
                                        { speaker: "Asisten1", voiceConfig: { prebuiltVoiceConfig: { voiceName: "Zephyr" } } },
                                        { speaker: "Asisten2", voiceConfig: { prebuiltVoiceConfig: { voiceName: "Kore" } } }
                                    ]
                                }
                            }
                        }
                    }
                };

                const res = await fetch(url, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(payload) });
                const result = await res.json();
                const base64Audio = result.candidates[0].content.parts[0].inlineData.data;
                
                const blob = pcmToWav(base64Audio);
                audio.src = URL.createObjectURL(blob);
                audio.classList.remove('hidden');
                placeholder.classList.add('hidden');
                audio.play();
                btn.innerHTML = "Narasi Diputar üéß";
            } catch (e) {
                alert("Gagal memutar audio AI.");
                btn.innerHTML = "Dengarkan Narasi AI ‚ú®";
            } finally {
                btn.disabled = false;
            }
        });

        function pcmToWav(base64) {
            const bytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));
            const header = new ArrayBuffer(44);
            const view = new DataView(header);
            view.setUint32(0, 0x46464952, true); // RIFF
            view.setUint32(4, 36 + bytes.length, true);
            view.setUint32(8, 0x45564157, true); // WAVE
            view.setUint32(12, 0x20746d66, true); // fmt 
            view.setUint32(16, 16, true);
            view.setUint16(20, 1, true); // PCM
            view.setUint16(22, 1, true); // Mono
            view.setUint32(24, 24000, true);
            view.setUint32(28, 48000, true);
            view.setUint16(32, 2, true);
            view.setUint16(34, 16, true);
            view.setUint32(36, 0x61746164, true); // data
            view.setUint32(40, bytes.length, true);
            return new Blob([header, bytes], { type: 'audio/wav' });
        }

        // --- CHARTS & UI LOGIC ---
        function wrapLabel(str, max) {
            if (str.length <= max) return str;
            const words = str.split(' ');
            let res = [], cur = [];
            words.forEach(w => {
                if ((cur.join(' ') + ' ' + w).length > max) { res.push(cur.join(' ')); cur = [w]; }
                else cur.push(w);
            });
            res.push(cur.join(' '));
            return res;
        }

        window.onload = () => {
            // Platform Reach Chart
            const ctx1 = document.getElementById('platformReachChart').getContext('2d');
            new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['YouTube', 'WhatsApp', 'TikTok', 'Instagram', 'Facebook', 'Spotify'].map(l => wrapLabel(l, 16)),
                    datasets: [{
                        label: 'Reach %',
                        data: [94, 91, 86, 84, 78, 55],
                        backgroundColor: '#0EA5E9',
                        borderRadius: 12
                    }, {
                        label: 'Engagement %',
                        data: [72, 95, 88, 75, 52, 60],
                        backgroundColor: '#6366F1',
                        borderRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, max: 100 } },
                    plugins: { 
                        tooltip: { 
                            callbacks: { title: (items) => items[0].label.replaceAll(',', ' ') } 
                        } 
                    }
                }
            });

            // Gen Radar Chart
            const ctx2 = document.getElementById('genPlatformRadar').getContext('2d');
            new Chart(ctx2, {
                type: 'radar',
                data: {
                    labels: ['Visual (TikTok)', 'Video Panjang (YT)', 'Social (FB)', 'Audio (Spot)', 'Messaging (WA)'],
                    datasets: [
                        { label: 'Gen Z', data: [95, 80, 20, 85, 90], borderColor: '#F43F5E', backgroundColor: 'rgba(244, 63, 94, 0.1)' },
                        { label: 'Milenial', data: [70, 95, 55, 75, 98], borderColor: '#0EA5E9', backgroundColor: 'rgba(14, 165, 233, 0.1)' },
                        { label: 'Gen X', data: [30, 85, 90, 40, 98], borderColor: '#10B981', backgroundColor: 'rgba(16, 185, 129, 0.1)' }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Competitor Bubble Chart
            const ctx3 = document.getElementById('competitorBubbleChart').getContext('2d');
            new Chart(ctx3, {
                type: 'bubble',
                data: {
                    datasets: [{
                        label: 'Channels',
                        data: competitors.map(c => ({ x: c.x, y: c.y, r: Math.sqrt(c.x) * 4 })),
                        backgroundColor: competitors.map(c => {
                            if(c.c === 'Horror') return '#8B5CF6';
                            if(c.c === 'Seni Budaya') return '#F43F5E';
                            if(c.c === 'Tech/AI') return '#2DD4BF';
                            if(c.c === 'Talkshow') return '#0EA5E9';
                            return '#F59E0B';
                        })
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { 
                        x: { title: { display: true, text: 'Reach (Millions Subs)' } }, 
                        y: { title: { display: true, text: 'Engagement Score' } } 
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `${competitors[ctx.dataIndex].n}: ${competitors[ctx.dataIndex].s}`
                            }
                        }
                    }
                }
            });

            renderTable();
        };

        function renderTable() {
            const body = document.getElementById('tableBody');
            body.innerHTML = competitors.map(c => `
                <tr class="hover:bg-white/5 transition-colors">
                    <td class="px-6 py-4 font-bold text-white">${c.n}</td>
                    <td class="px-6 py-4"><span class="bg-slate-800 px-2 py-1 rounded text-[10px]">${c.p}</span></td>
                    <td class="px-6 py-4 text-right font-mono font-bold text-sky-400">${c.s}</td>
                    <td class="px-6 py-4 font-semibold text-xs text-slate-400">${c.c}</td>
                    <td class="px-6 py-4 text-xs italic text-slate-500">${c.a}</td>
                </tr>
            `).join('');
        }

        function searchTable() {
            const input = document.getElementById('tableSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#tableBody tr');
            rows.forEach(r => r.style.display = r.innerText.toLowerCase().includes(input) ? '' : 'none');
        }

        function exportCSV() {
            let csv = "Nama,Platform,Subs,Kategori,Target\n";
            competitors.forEach(c => csv += `"${c.n}","${c.p}","${c.s}","${c.c}","${c.a}"\n`);
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Riset_VodcastLab_2025.csv';
            a.click();
        }
    </script>